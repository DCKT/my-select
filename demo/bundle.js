(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
'use strict';

var Select = require('../lib/select');

document.addEventListener('DOMContentLoaded', function () {
  var select = new Select({
    select: '.test',
    container: '#bloc' });

  select.on('change', function (value) {
    console.log(value);
  });
}, false);

},{"../lib/select":5}],2:[function(require,module,exports){
'use strict';

var _CLASSNAME = require('./constants.js');

module.exports = function (option, select, _this) {
  option.addEventListener('click', function () {
    var id = this.getAttribute('data-select-id');
    select.value = this.getAttribute('data-value');
    _this.selectedValue = this.getAttribute('data-value');
    document.querySelector('.' + _CLASSNAME.CLASSNAME.LABEL + '-' + id).innerHTML = this.innerHTML;
    _this.hideLists();
    _this.events.change ? _this.events.change(_this.selectedValue) : null;
  }, false);
};

},{"./constants.js":3}],3:[function(require,module,exports){
'use strict';

module.exports = {
  CLASSNAME: {
    LABEL: 'js-myselect-label',
    LABEL_FOCUS: 'js-myselect-label--focus',
    LIST_VALUES: 'js-myselect-list-values',
    LIST_VALUES_VISIBLE: 'js-myselect-list-values--visible',
    ITEM: 'js-myselect-item' } };

},{}],4:[function(require,module,exports){
'use strict';

var _interopRequireWildcard = function (obj) { return obj && obj.__esModule ? obj : { 'default': obj }; };

var _CLASSNAME = require('./constants.js');

var _showDropdown = require('./showDropDown.js');

var _showDropdown2 = _interopRequireWildcard(_showDropdown);

var _bindClickOptions = require('./bindClickOptions.js');

var _bindClickOptions2 = _interopRequireWildcard(_bindClickOptions);

module.exports = function (select, container, id) {
  var _this2 = this;

  var label = document.createElement('div');
  var valuesList = document.createElement('div');
  var _this = this;

  label.className = '' + _CLASSNAME.CLASSNAME.LABEL + ' ' + _CLASSNAME.CLASSNAME.LABEL + '-' + id;
  valuesList.className = _CLASSNAME.CLASSNAME.LIST_VALUES;

  label.innerHTML = select.selectedOptions[0].innerHTML;

  label.addEventListener('click', function (e) {
    if (_this.isDevice && _this.nativeOnDevice) {
      _this.showDropdown(select);
    } else {
      this.classList.add(_CLASSNAME.CLASSNAME.LABEL_FOCUS);
      this.nextSibling.classList.add(_CLASSNAME.CLASSNAME.LIST_VALUES_VISIBLE);
    }
  });

  this.fakeSelect = label;

  [].forEach.call(select.children, function (option, index) {
    var divOption = document.createElement('div');

    divOption.className = _CLASSNAME.CLASSNAME.ITEM;
    divOption.innerHTML = option.innerHTML;
    divOption.setAttribute('data-value', option.getAttribute('value'));
    divOption.setAttribute('data-select-id', id);
    valuesList.appendChild(divOption);

    _bindClickOptions2['default'](divOption, select, _this2);
  });

  container.appendChild(label);
  container.appendChild(valuesList);
};

},{"./bindClickOptions.js":2,"./constants.js":3,"./showDropDown.js":6}],5:[function(require,module,exports){
"use strict";function bindClickOut() {
  var e = this;document.addEventListener("click", function (t) {
    var n = t.target.classList;n.contains(_CLASSNAME.CLASSNAME.LABEL) || n.contains(_CLASSNAME.CLASSNAME.ITEM) || e.hideLists();
  }, !1);
}var _interopRequireWildcard = function _interopRequireWildcard(e) {
  return e && e.__esModule ? e : { "default": e };
},
    _classCallCheck = function _classCallCheck(e, t) {
  if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function");
},
    _createClass = (function () {
  function e(e, t) {
    for (var n = 0; n < t.length; n++) {
      var i = t[n];i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(e, i.key, i);
    }
  }return function (t, n, i) {
    return (n && e(t.prototype, n), i && e(t, i), t);
  };
})(),
    _CLASSNAME = require("./constants.js"),
    _createDOMElements = require("./createDOMElements.js"),
    _createDOMElements2 = _interopRequireWildcard(_createDOMElements),
    i = 0,
    Select = (function () {
  function e(t) {
    if ((_classCallCheck(this, e), !t || !t.select || !t.container)) {
      return void console.error("my-select error : Missing options");
    }var n = t.select,
        r = t.container;return (this.select = document.querySelector(n), this.container = document.querySelector(r), this.selectedValue = null, this.fakeSelect = null, this.events = {}, this.id = i, this.nativeOnDevice = !!t.nativeOnDevice, this.isDevice = "ontouchstart" in document.documentElement, this.select ? this.container ? (_createDOMElements2["default"].call(this, this.select, this.container, this.id), void bindClickOut.call(this)) : void console.error("my-select error : container Node not found") : void console.error("my-select error : select Node not found"));
  }return (_createClass(e, [{ key: "hideLists", value: function value() {
      this.fakeSelect.classList.remove(_CLASSNAME.CLASSNAME.LABEL_FOCUS), this.fakeSelect.nextSibling.classList.remove(_CLASSNAME.CLASSNAME.LIST_VALUES_VISIBLE);
    } }, { key: "on", value: function value(e, t) {
      this.events[e] = t.bind(this);
    } }]), e);
})();module.exports = Select;

},{"./constants.js":3,"./createDOMElements.js":4}],6:[function(require,module,exports){
'use strict';

module.exports = function (element) {
  var event;
  event = document.createEvent('MouseEvents');
  event.initMouseEvent('mousedown', true, true, window);
  element.dispatchEvent(event);
};

},{}]},{},[1])
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCIvVXNlcnMvRENLL0NvZGUvR2l0aHViL215LXNlbGVjdC9kZW1vL2FwcC5qcyIsIi9Vc2Vycy9EQ0svQ29kZS9HaXRodWIvbXktc2VsZWN0L2xpYi9iaW5kQ2xpY2tPcHRpb25zLmpzIiwiL1VzZXJzL0RDSy9Db2RlL0dpdGh1Yi9teS1zZWxlY3QvbGliL2NvbnN0YW50cy5qcyIsIi9Vc2Vycy9EQ0svQ29kZS9HaXRodWIvbXktc2VsZWN0L2xpYi9jcmVhdGVET01FbGVtZW50cy5qcyIsIi9Vc2Vycy9EQ0svQ29kZS9HaXRodWIvbXktc2VsZWN0L2xpYi9zZWxlY3QuanMiLCIvVXNlcnMvRENLL0NvZGUvR2l0aHViL215LXNlbGVjdC9saWIvc2hvd0Ryb3BEb3duLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQSxJQUFJLE1BQU0sR0FBRyxPQUFPLENBQUMsZUFBZSxDQUFDLENBQUM7O0FBRXRDLFFBQVEsQ0FBQyxnQkFBZ0IsQ0FBQyxrQkFBa0IsRUFBRSxZQUFXO0FBQ3ZELE1BQUksTUFBTSxHQUFHLElBQUksTUFBTSxDQUFDO0FBQ3RCLFVBQU0sRUFBRSxPQUFPO0FBQ2YsYUFBUyxFQUFFLE9BQU8sRUFDbkIsQ0FBQyxDQUFDOztBQUVILFFBQU0sQ0FBQyxFQUFFLENBQUMsUUFBUSxFQUFFLFVBQVMsS0FBSyxFQUFFO0FBQ2xDLFdBQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7R0FDcEIsQ0FBQyxDQUFDO0NBQ0osRUFBRSxLQUFLLENBQUMsQ0FBQzs7Ozs7eUJDWGdCLGdCQUFnQjs7QUFFMUMsTUFBTSxDQUFDLE9BQU8sR0FBRyxVQUFTLE1BQU0sRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFO0FBQy9DLFFBQU0sQ0FBQyxnQkFBZ0IsQ0FBQyxPQUFPLEVBQUUsWUFBVztBQUMxQyxRQUFJLEVBQUUsR0FB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QyxHQUFHLEVBQUMsSUFBSSxFQUFDLEtBQUssRUFBQyxlQUFTLENBQUMsRUFBQyxDQUFDLEVBQUM7QUFBQyxVQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7S0FBQyxFQUFDLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQSxDQUFBO0NBQUMsQ0FBQSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sR0FBQyxNQUFNLENBQUM7Ozs7O0FDQXR4RCxNQUFNLENBQUMsT0FBTyxHQUFHLFVBQVMsT0FBTyxFQUFFO0FBQ2pDLE1BQUksS0FBSyxDQUFDO0FBQ1YsT0FBSyxHQUFHLFFBQVEsQ0FBQyxXQUFXLENBQUMsYUFBYSxDQUFDLENBQUM7QUFDNUMsT0FBSyxDQUFDLGNBQWMsQ0FBQyxXQUFXLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztBQUN0RCxTQUFPLENBQUMsYUFBYSxDQUFDLEtBQUssQ0FBQyxDQUFDO0NBQzlCLENBQUEiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwidmFyIFNlbGVjdCA9IHJlcXVpcmUoJy4uL2xpYi9zZWxlY3QnKTtcblxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKCkge1xuICB2YXIgc2VsZWN0ID0gbmV3IFNlbGVjdCh7XG4gICAgc2VsZWN0OiAnLnRlc3QnLFxuICAgIGNvbnRhaW5lcjogJyNibG9jJyxcbiAgfSk7XG5cbiAgc2VsZWN0Lm9uKCdjaGFuZ2UnLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgfSk7XG59LCBmYWxzZSk7XG4iLCJpbXBvcnQgeyBDTEFTU05BTUUgfSBmcm9tICcuL2NvbnN0YW50cy5qcyc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ob3B0aW9uLCBzZWxlY3QsIF90aGlzKSB7XG4gIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIHZhciBpZCAgICAgICAgICAgICAgPSB0aGlzLmdldEF0dHJpYnV0ZSgnZGF0YS1zZWxlY3QtaWQnKTtcbiAgICBzZWxlY3QudmFsdWUgICAgICAgID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcbiAgICBfdGhpcy5zZWxlY3RlZFZhbHVlID0gdGhpcy5nZXRBdHRyaWJ1dGUoJ2RhdGEtdmFsdWUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtDTEFTU05BTUUuTEFCRUx9LSR7aWR9YCkuaW5uZXJIVE1MID0gdGhpcy5pbm5lckhUTUw7XG4gICAgX3RoaXMuaGlkZUxpc3RzKCk7XG4gICAgX3RoaXMuZXZlbnRzLmNoYW5nZSA/IF90aGlzLmV2ZW50cy5jaGFuZ2UoX3RoaXMuc2VsZWN0ZWRWYWx1ZSkgOiBudWxsO1xuICB9LCBmYWxzZSk7XG59XG4iLCJtb2R1bGUuZXhwb3J0cyA9IHtcbiAgQ0xBU1NOQU1FOiB7XG4gICAgTEFCRUw6ICdqcy1teXNlbGVjdC1sYWJlbCcsXG4gICAgTEFCRUxfRk9DVVM6ICdqcy1teXNlbGVjdC1sYWJlbC0tZm9jdXMnLFxuICAgIExJU1RfVkFMVUVTOiAnanMtbXlzZWxlY3QtbGlzdC12YWx1ZXMnLFxuICAgIExJU1RfVkFMVUVTX1ZJU0lCTEU6ICdqcy1teXNlbGVjdC1saXN0LXZhbHVlcy0tdmlzaWJsZScsXG4gICAgSVRFTTogJ2pzLW15c2VsZWN0LWl0ZW0nLFxuICB9LFxufTtcbiIsImltcG9ydCB7IENMQVNTTkFNRSB9IGZyb20gJy4vY29uc3RhbnRzLmpzJztcbmltcG9ydCBzaG93RHJvcGRvd24gZnJvbSAnLi9zaG93RHJvcERvd24uanMnO1xuaW1wb3J0IGJpbmRDbGlja09wdGlvbnMgZnJvbSAnLi9iaW5kQ2xpY2tPcHRpb25zLmpzJztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzZWxlY3QsIGNvbnRhaW5lciwgaWQpIHtcbiAgdmFyIGxhYmVsICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIHZhbHVlc0xpc3QgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdmFyIF90aGlzICAgICAgPSB0aGlzO1xuXG4gIGxhYmVsLmNsYXNzTmFtZSAgICAgID0gYCR7Q0xBU1NOQU1FLkxBQkVMfSAke0NMQVNTTkFNRS5MQUJFTH0tJHtpZH1gO1xuICB2YWx1ZXNMaXN0LmNsYXNzTmFtZSA9IENMQVNTTkFNRS5MSVNUX1ZBTFVFUztcblxuICBsYWJlbC5pbm5lckhUTUwgPSBzZWxlY3Quc2VsZWN0ZWRPcHRpb25zWzBdLmlubmVySFRNTDtcblxuICBsYWJlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBpZiAoX3RoaXMuaXNEZXZpY2UgJiYgX3RoaXMubmF0aXZlT25EZXZpY2UpIHtcbiAgICAgIF90aGlzLnNob3dEcm9wZG93bihzZWxlY3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmNsYXNzTGlzdC5hZGQoQ0xBU1NOQU1FLkxBQkVMX0ZPQ1VTKTtcbiAgICAgIHRoaXMubmV4dFNpYmxpbmcuY2xhc3NMaXN0LmFkZChDTEFTU05BTUUuTElTVF9WQUxVRVNfVklTSUJMRSk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLmZha2VTZWxlY3QgPSBsYWJlbDtcblxuICBbXS5mb3JFYWNoLmNhbGwoc2VsZWN0LmNoaWxkcmVuLCAob3B0aW9uLCBpbmRleCkgPT4ge1xuICAgIHZhciBkaXZPcHRpb24gICAgICAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcblxuICAgIGRpdk9wdGlvbi5jbGFzc05hbWUgPSBDTEFTU05BTUUuSVRFTTtcbiAgICBkaXZPcHRpb24uaW5uZXJIVE1MID0gb3B0aW9uLmlubmVySFRNTDtcbiAgICBkaXZPcHRpb24uc2V0QXR0cmlidXRlKCdkYXRhLXZhbHVlJywgb3B0aW9uLmdldEF0dHJpYnV0ZSgndmFsdWUnKSk7XG4gICAgZGl2T3B0aW9uLnNldEF0dHJpYnV0ZSgnZGF0YS1zZWxlY3QtaWQnLCBpZCk7XG4gICAgdmFsdWVzTGlzdC5hcHBlbmRDaGlsZChkaXZPcHRpb24pO1xuXG4gICAgYmluZENsaWNrT3B0aW9ucyhkaXZPcHRpb24sIHNlbGVjdCwgdGhpcyk7XG4gIH0pO1xuXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh2YWx1ZXNMaXN0KTtcbn07XG4iLCJcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiaW5kQ2xpY2tPdXQoKXt2YXIgZT10aGlzO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKHQpe3ZhciBuPXQudGFyZ2V0LmNsYXNzTGlzdDtuLmNvbnRhaW5zKF9DTEFTU05BTUUuQ0xBU1NOQU1FLkxBQkVMKXx8bi5jb250YWlucyhfQ0xBU1NOQU1FLkNMQVNTTkFNRS5JVEVNKXx8ZS5oaWRlTGlzdHMoKX0sITEpfXZhciBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZD1mdW5jdGlvbihlKXtyZXR1cm4gZSYmZS5fX2VzTW9kdWxlP2U6e1wiZGVmYXVsdFwiOmV9fSxfY2xhc3NDYWxsQ2hlY2s9ZnVuY3Rpb24oZSx0KXtpZighKGUgaW5zdGFuY2VvZiB0KSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSxfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKGUsdCl7Zm9yKHZhciBuPTA7bjx0Lmxlbmd0aDtuKyspe3ZhciBpPXRbbl07aS5lbnVtZXJhYmxlPWkuZW51bWVyYWJsZXx8ITEsaS5jb25maWd1cmFibGU9ITAsXCJ2YWx1ZVwiaW4gaSYmKGkud3JpdGFibGU9ITApLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShlLGkua2V5LGkpfX1yZXR1cm4gZnVuY3Rpb24odCxuLGkpe3JldHVybiBuJiZlKHQucHJvdG90eXBlLG4pLGkmJmUodCxpKSx0fX0oKSxfQ0xBU1NOQU1FPXJlcXVpcmUoXCIuL2NvbnN0YW50cy5qc1wiKSxfY3JlYXRlRE9NRWxlbWVudHM9cmVxdWlyZShcIi4vY3JlYXRlRE9NRWxlbWVudHMuanNcIiksX2NyZWF0ZURPTUVsZW1lbnRzMj1faW50ZXJvcFJlcXVpcmVXaWxkY2FyZChfY3JlYXRlRE9NRWxlbWVudHMpLGk9MCxTZWxlY3Q9ZnVuY3Rpb24oKXtmdW5jdGlvbiBlKHQpe2lmKF9jbGFzc0NhbGxDaGVjayh0aGlzLGUpLCF0fHwhdC5zZWxlY3R8fCF0LmNvbnRhaW5lcilyZXR1cm4gdm9pZCBjb25zb2xlLmVycm9yKFwibXktc2VsZWN0IGVycm9yIDogTWlzc2luZyBvcHRpb25zXCIpO3ZhciBuPXQuc2VsZWN0LHI9dC5jb250YWluZXI7cmV0dXJuIHRoaXMuc2VsZWN0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IobiksdGhpcy5jb250YWluZXI9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihyKSx0aGlzLnNlbGVjdGVkVmFsdWU9bnVsbCx0aGlzLmZha2VTZWxlY3Q9bnVsbCx0aGlzLmV2ZW50cz17fSx0aGlzLmlkPWksdGhpcy5uYXRpdmVPbkRldmljZT0hIXQubmF0aXZlT25EZXZpY2UsdGhpcy5pc0RldmljZT1cIm9udG91Y2hzdGFydFwiaW4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHRoaXMuc2VsZWN0P3RoaXMuY29udGFpbmVyPyhfY3JlYXRlRE9NRWxlbWVudHMyW1wiZGVmYXVsdFwiXS5jYWxsKHRoaXMsdGhpcy5zZWxlY3QsdGhpcy5jb250YWluZXIsdGhpcy5pZCksdm9pZCBiaW5kQ2xpY2tPdXQuY2FsbCh0aGlzKSk6dm9pZCBjb25zb2xlLmVycm9yKFwibXktc2VsZWN0IGVycm9yIDogY29udGFpbmVyIE5vZGUgbm90IGZvdW5kXCIpOnZvaWQgY29uc29sZS5lcnJvcihcIm15LXNlbGVjdCBlcnJvciA6IHNlbGVjdCBOb2RlIG5vdCBmb3VuZFwiKX1yZXR1cm4gX2NyZWF0ZUNsYXNzKGUsW3trZXk6XCJoaWRlTGlzdHNcIix2YWx1ZTpmdW5jdGlvbigpe3RoaXMuZmFrZVNlbGVjdC5jbGFzc0xpc3QucmVtb3ZlKF9DTEFTU05BTUUuQ0xBU1NOQU1FLkxBQkVMX0ZPQ1VTKSx0aGlzLmZha2VTZWxlY3QubmV4dFNpYmxpbmcuY2xhc3NMaXN0LnJlbW92ZShfQ0xBU1NOQU1FLkNMQVNTTkFNRS5MSVNUX1ZBTFVFU19WSVNJQkxFKX19LHtrZXk6XCJvblwiLHZhbHVlOmZ1bmN0aW9uKGUsdCl7dGhpcy5ldmVudHNbZV09dC5iaW5kKHRoaXMpfX1dKSxlfSgpO21vZHVsZS5leHBvcnRzPVNlbGVjdDsiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVsZW1lbnQpIHtcbiAgdmFyIGV2ZW50O1xuICBldmVudCA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdNb3VzZUV2ZW50cycpO1xuICBldmVudC5pbml0TW91c2VFdmVudCgnbW91c2Vkb3duJywgdHJ1ZSwgdHJ1ZSwgd2luZG93KTtcbiAgZWxlbWVudC5kaXNwYXRjaEV2ZW50KGV2ZW50KTtcbn1cbiJdfQ==
